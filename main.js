(()=>{"use strict";const e=e=>{e.style.opacity=0,e.style.display="block";let t=0;const n=setInterval((()=>{t+=.02,e.style.opacity=t,t>=1&&clearInterval(n)}),10)},t=e=>{console.log("fadeOut for ",e);let t=1;const n=setInterval((()=>{t-=.02,e.style.opacity=t,t<=0&&(clearInterval(n),e.style.display="none")}),10)},n=/^[\d+]+$/,o=/^[а-яёА-ЯЁ]+$/;var l;(()=>{const e=document.querySelector(".mobile-menu"),t=e.querySelector(".mobile-menu-close"),n=e.querySelector(".callback-btn");let o=!1;n.addEventListener("click",(t=>{console.log(t.target),t.preventDefault(),e.style.right="-400px",o=!o})),t.onclick=()=>{e.style.right="-400px",o=!o},document.querySelector(".mob-menu-btn").addEventListener("click",(function(){o?(e.style.right="-400px",o=!o):(e.style.right="0",o=!o)}))})(),document.addEventListener("DOMContentLoaded",(()=>{document.querySelectorAll('a[href^="#"]').forEach((e=>{e.addEventListener("click",(function(e){e.preventDefault();const t=this.getAttribute("href").substring(1),n=document.getElementById(t).offsetTop;window.scrollTo({top:n,behavior:"smooth"})}))}))})),document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelectorAll(".top-slider .item");let t=0;function n(t){e.forEach(((e,n)=>{n===t?(e.style.opacity=0,e.style.display="block",setTimeout((()=>{e.style.transition="opacity 1s",e.style.opacity=1}),10)):(e.style.opacity=0,setTimeout((()=>{e.style.display="none"}),1e3))}))}e.forEach(((e,t)=>{e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.width="100%",e.style.height="100%",e.style.transition="transform 0.5s ease";const n=e.querySelector(".table");n.style.visibility="visible",n.style.opacity="1",n.style.transition="visibility 0s, opacity 0.5s linear"})),n(t),setInterval((function(){t=(t+1)%e.length,n(t)}),3e3)})),document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector(".services-carousel"),t=document.querySelector(".arrow-left"),n=document.querySelector(".arrow-right"),o=e.querySelector(".col-sm-6").offsetWidth;let l=0;t.addEventListener("click",(()=>{l-=o,l<0&&(l=0),e.scrollTo({left:l,behavior:"smooth"})})),n.addEventListener("click",(()=>{const t=e.scrollWidth-e.clientWidth;l+=o,l>t&&(l=t),e.scrollTo({left:l,behavior:"smooth"})}))})),(()=>{const e=document.querySelector(".up");if(!e)return void console.error('Element with class "up" not found');const t=()=>{window.scrollY>300?e.style.display="block":e.style.display="none"};window.addEventListener("scroll",t),e.addEventListener("click",(()=>{window.scrollTo({top:0,behavior:"smooth"})})),t()})(),(e=>{const t=document.querySelector(e);t.addEventListener("click",(e=>{const n=e.target.closest(".element");if(n.classList.contains("element")){console.dir("click on element:  "+n.classList);const e=n.querySelector(".element-content"),o=t.querySelectorAll(".element-content");t.querySelectorAll(".element").forEach((e=>{e.classList.remove("active")})),o.forEach((e=>{e.style.transition="none",e.style.display="none"})),n.classList.add("active"),e.style.transition="max-height 0.3s ease",e.style.display="block",e.style.maxHeight=e.scrollHeight+"px"}}))})(".accordeon"),l=[10,20,"10 лет","<30"],document.querySelector(".num-section").querySelectorAll(".num").forEach(((e,t)=>{e.style.opacity="1","number"==typeof l[t]?function(e,t,n){let o=0;const l=setInterval((()=>{o<=e?(n.innerHTML=`<span id="num+${t+1}">${o}</span>`,o++):clearInterval(l)}),100)}(l[t],t,e):"string"==typeof l[t]&&(e.innerHTML=`<span id="num+${t+1}">${l[t]}</span>`)})),(()=>{const l=document.querySelector(".modal-overlay"),r=document.getElementById("callback"),s=r.querySelector(".modal-close"),c=r.querySelector('input[name="fio"]'),i=r.querySelector('input[name="tel"]'),a=document.getElementById("feedback"),d=a.querySelector('input[name="fio"]'),u=a.querySelector('input[name="tel"]'),y=a.querySelector('textarea[name="message"]'),m=document.getElementById("application"),p=m.querySelector("#applicationInput"),h=m.querySelector('input[name="fio"]'),f=m.querySelector('input[name="tel"]'),v=(document.getElementById("responseMessage"),document.querySelectorAll(".callback-btn")),g=document.querySelectorAll(".button-services"),q=document.querySelector(".services-carousel").querySelectorAll(".absolute");function S(t,n,o=!1){t.forEach((t=>{t.addEventListener("click",(l=>{l.preventDefault(),o&&e(o),e(n),n===a?m.style.display="none":n===m&&(a.style.display="none",p.value=t.dataset.application)}))}))}function E(){t(l),t(r)}function b(e,t,n){e.preventDefault();let o=!0,l={};var r;n.forEach((e=>{const{element:t,regexp:n,length:r,required:s}=e,c=function(e,t,n,o){const l=e.value.trim();return!o&&""===l||(!n||l.length===n)&&t.test(l)?(e.classList.remove("error"),!0):(e.classList.add("error"),!1)}(t,n,r,s);c||(o=!1),l[t.name]=t.value})),o&&(r=l,fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify(r)}).then((e=>{if(!e.ok)throw new Error("Ошибка HTTP: "+e.status);return e.json()}))).then((e=>{L(t,"Отправлено!","success"),t===m?k(m):t===a&&k(a)})).catch((e=>{L(t,"Ошибка отправки!","error")}))}function L(e,t,n){const o=document.createElement("div");o.textContent=t,o.classList.add(n);const l=e.lastElementChild;e.insertBefore(o,l.nextSibling),setTimeout((()=>{o.remove()}),3e3)}function k(e){setTimeout((()=>{e.style.display=""}),3300)}q.length>0&&S(q,m),g.length>0&&S(g,a),v.length>0&&S(v,r,l),s.addEventListener("click",(()=>{E()})),l.addEventListener("click",(()=>{E()})),r.addEventListener("submit",(e=>{b(e,r,[{element:c,regexp:o,required:!0},{element:i,regexp:n,length:12,required:!0}])})),a.addEventListener("submit",(e=>{b(e,a,[{element:d,regexp:o},{element:u,regexp:n,length:12,required:!0},{element:y,regexp:/.+/,required:!0}])})),m.addEventListener("submit",(e=>{b(e,m,[{element:h,regexp:o,required:!0},{element:f,regexp:n,length:12,required:!0},{element:p,regexp:/.+/}])}))})(),forms()})();